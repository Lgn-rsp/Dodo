[package]
name        = "logos_node"
version     = "0.1.0"
edition     = "2021"
license     = "Apache-2.0"
description = "LOGOS LRB node: Axum REST + archive + producer + wallet/stake"
build       = "build.rs"

# --- бинарь узла ---
[[bin]]
name = "logos_node"
path = "src/main.rs"

# --- вспомогательные утилиты (можно закомментировать, если не нужны) ---
[[bin]]
name = "mint"
path = "src/bin/mint.rs"

[[bin]]
name = "make_tx"
path = "src/bin/make_tx.rs"

[[bin]]
name = "bench_burst"
path = "src/bin/bench_burst.rs"

[lib]
name = "logos_node"
path = "src/lib.rs"

[dependencies]
# базовый стек (всё из workspace — единые версии)

sha2 = "0.10.9"

# хранилища/индексация

# утилиты/крипта/метрики

# === ДОБАВЛЕНО (security & utils) ===
# HMAC-SHA256 для подписи тела моста (deposit/redeem)
hmac = { version = "0.12", default-features = false }
# джиттер/phase-mixing в guard
rand = { version = "0.8", features = ["std","std_rng"] }
# мьютексы в state.rs (parking_lot::Mutex)
parking_lot = "0.12"

# для bin-утилит
reqwest   = { version = "0.12.23", , features = ["blocking","json"] }
rand_core = "0.6"

# ядро
lrb_core = { version = "0.1.0", path = "../lrb_core" }

[build-dependencies]
chrono = { version = "0.4", default-features = false, features = ["clock"] }
